{% extends 'myapp/base.html' %}

{% block title %}
    Homepage
    
{% endblock %}

{% block content %}
    <div class="container">
        <div class="mb-3 gap-2" style="margin-top:10px">
            <form method="post" action='' enctype="multipart/form-data">
                {% csrf_token %}
                <label for="formFileMultiple" class="form-label">Upload Your CSV</label>
                <input class="form-control" type="file" name='file' id="formFileMultiple" multiple>
                <div class="d-grid gap-2 d-md-flex justify-content-md-end" style="margin-top:10px">
                    <button class="btn btn-primary me-md-2" type="submit">Submit</button>
                </div>
            </form>
        </div>
        
        {% if data_objects %}
            <ul><li>File Name: {{ file_name }}</li></ul>
            <hr / >
            
            <h2>TABLE</h2>
            <table class="table table-striped table-hover">
                <thead>
                    <tr>
                        <th>Property Name</th>
                        <th>Price</th>
                        <th>Rent</th>
                        <th>EMI</th>
                        <th>Tax</th>
                        <th>Other Exp.</th>
                        <th>Net Expences</th>
                        <th>Net Income</th>
                    </tr>
                </thead>
                <tbody>
                    {% for data in data_objects %}
                        <tr>
                            <td>{{ data.name }}</td>
                            <td>{{ data.price }}</td>
                            <td>{{ data.rent }}</td>
                            <td>{{ data.emi }}</td>
                            <td>{{ data.tax }}</td>
                            <td>{{ data.exp }}</td>
                            <td>{{ data.monthly_expenses }}</td>
                            <td>{{ data.monthly_income}}</td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        {% endif %}
    </div>
{% endblock %}
